{"version":3,"sources":["webpack:///component---src-pages-events-jsx-656ebf60961202839e2d.js","webpack:///./src/components/utils.js?8f25","webpack:///./src/pages/events.jsx"],"names":["webpackJsonp","56","module","exports","__esModule","monthNames","default","showMonthDate","d","getUTCMonth","getFullYear","showDayDate","getDate","274","144","__webpack_require__","_interopRequireDefault","obj","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","pageQuery","undefined","_react","_react2","_gatsbyLink","_reactHelmet","_reactHelmet2","_utils","PAGE_TITLE","EventsPage","_React$Component","props","this","_this","data","allDataJson","edges","node","events","forEach","event","date","Date","ref","React","createRef","sort","a","b","currentEvent","length","showEvent","scroll","current","scrollIntoView","behavior","getImage","img","createElement","className","src","withPrefix","alt","title","pdf","href","target","getItem","i","key","onMouseEnter","bind","toUpperCase","subtitle","render","_this2","imgList","map","Component"],"mappings":"AAAAA,cAAc,iBAERC,GACA,SAAUC,EAAQC,GAEvB,YAEAA,GAAQC,YAAa,CCPtB,IAAMC,IAAc,UAAW,UAAW,OAAQ,QAAS,MAAO,OAAQ,UAAW,OAAQ,YAAa,UAAW,WAAY,WDUhIF,GAAQG,SCPPC,cAAe,SAAAC,GAAA,MAAQH,GAAWG,EAAEC,eAArB,IAAuCD,EAAEE,eACxDC,YAAa,SAAAH,GAAA,MAAQA,GAAEI,UAAV,IAAuBP,EAAWG,EAAEC,eAApC,IAAsDD,EAAEE,gBDctER,EAAOC,QAAUA,EAAiB,SAI7BU,IACA,SAAUX,EAAQC,KAMlBW,IACA,SAAUZ,EAAQC,EAASY,GAEhC,YAmBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIb,WAAaa,GAAQX,QAASW,GAEvF,QAASC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EAElO,QAASE,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIP,WAAU,iEAAoEO,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAvBjezB,EAAQC,YAAa,EACrBD,EAAQoC,UAAYC,MEjCrB,IAAAC,GAAA1B,EAAA,GFqCK2B,EAAU1B,EAAuByB,GEpCtCE,EAAA5B,EAAA,IACA6B,EAAA7B,EAAA,IFyCK8B,EAAgB7B,EAAuB4B,GExC5CE,EAAA/B,EAAA,GACAA,GAAA,IAEA,IAAMgC,GAAa,2BAEbC,EFmDY,SAAUC,GElD1B,QAAAD,GAAYE,GAAOhC,EAAAiC,KAAAH,EAAA,IAAAI,GAAA9B,EAAA6B,KACjBF,EAAAzB,KAAA2B,KAAMD,IACAG,EAAOH,EAAMG,KAAKC,YAAYC,MAAM,GAAGC,IAF5B,OAGjBH,GAAKI,OAAOC,QAAQ,SAACC,GACnBA,EAAMC,KAAO,GAAIC,MAAKF,EAAMC,MAC5BD,EAAMG,IAAMC,UAAMC,cAEpBZ,EAAKK,OAASJ,EAAKI,OAAOQ,KAAK,SAACC,EAAGC,GAAJ,MAAUA,GAAEP,KAAOM,EAAEN,OACpDR,EAAKgB,aAAehB,EAAKK,OAAOY,OAASjB,EAAKK,OAAOL,EAAKK,OAAOY,OAAS,GAAK7B,OAR9DY,EFoJlB,MAjGA1B,GAAUsB,EAAYC,GAmBtBD,EAAWnB,UE3DZyC,UF2DkC,SE3DxBX,GACRR,KAAKoB,OAAOZ,EAAMG,MF8DnBd,EAAWnB,UE3DZ0C,OF2D+B,SE3DxBT,GACLA,EAAIU,QAAQC,gBAAiBC,SAAU,YF8DxC1B,EAAWnB,UE3DZ8C,SF2DiC,SE3DxBhB,GACP,GAAMiB,GAAMlC,EAAApC,QAAAuE,cAAA,OAAKC,UAAU,YAAYC,KAAK,EAAApC,EAAAqC,YAAWrB,EAAMiB,KAAMK,IAAKtB,EAAMuB,OAC9E,OAAOvB,GAAMwB,IAAMzC,EAAApC,QAAAuE,cAAA,KAAGO,MAAM,EAAAzC,EAAAqC,YAAWrB,EAAMwB,KAAME,OAAO,UAAUT,GAAWA,GFkEhF5B,EAAWnB,UE/DZyD,QF+DgC,SE/DxB3B,EAAO4B,GACb,MACE7C,GAAApC,QAAAuE,cAAA,MAAIW,IAAA,cAAmBD,EAAKE,aAActC,KAAKmB,UAAUoB,KAAKvC,KAAMQ,IAClEjB,EAAApC,QAAAuE,cAAA,QAAMC,UAAU,eACdpC,EAAApC,QAAAuE,cAAA,QAAMC,UAAU,eAAc,EAAAhC,EAAAnC,aAAYgD,EAAMC,OAChDlB,EAAApC,QAAAuE,cAAA,QAAMC,UAAU,eACbnB,EAAMuB,MAAMS,cACbjD,EAAApC,QAAAuE,cAAA,WACClB,EAAMiC,SACPlD,EAAApC,QAAAuE,cAAA,WACClB,EAAMwB,IAAMzC,EAAApC,QAAAuE,cAAA,KAAGO,MAAM,EAAAzC,EAAAqC,YAAWrB,EAAMwB,MAA1B,yCAA4E,OFkFlGnC,EAAWnB,UE3EZgE,OF2E+B,WE3EtB,GAAAC,GAAA3C,IACP,OACET,GAAApC,QAAAuE,cAAA,QAAMC,UAAU,kBACdpC,EAAApC,QAAAuE,cAAChC,EAAAvC,SAAO4E,MAAOnC,IACfL,EAAApC,QAAAuE,cAAA,OAAKf,IAAKX,KAAK4C,QAASjB,UAAU,mCAC/B3B,KAAKM,OAAOuC,IAAI,SAACrC,EAAO4B,GAAR,MACf7C,GAAApC,QAAAuE,cAAA,OAAKf,IAAKH,EAAMG,IAAK0B,IAAA,aAAkBD,GACpCO,EAAKnB,SAAShB,OAIrBjB,EAAApC,QAAAuE,cAAA,OAAKC,UAAU,+BACbpC,EAAApC,QAAAuE,cAAA,UACG1B,KAAKM,OAAOuC,IAAI,SAACrC,EAAO4B,GAAR,MAAcO,GAAKR,QAAQ3B,EAAO4B,SF8FrDvC,GErJee,UAAMkC,UFwJ9B9F,GAAQG,QEzFM0C,CAEFT","file":"component---src-pages-events-jsx-656ebf60961202839e2d.js","sourcesContent":["webpackJsonp([272340096335040],{\n\n/***/ 56:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\tvar monthNames = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'];\n\t\n\texports.default = {\n\t  showMonthDate: function showMonthDate(d) {\n\t    return monthNames[d.getUTCMonth()] + ' ' + d.getFullYear();\n\t  },\n\t  showDayDate: function showDayDate(d) {\n\t    return d.getDate() + ' ' + monthNames[d.getUTCMonth()] + ' ' + d.getFullYear();\n\t  }\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 274:\n/***/ (function(module, exports) {\n\n\t// empty (null-loader)\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports.pageQuery = undefined;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _gatsbyLink = __webpack_require__(28);\n\t\n\tvar _reactHelmet = __webpack_require__(37);\n\t\n\tvar _reactHelmet2 = _interopRequireDefault(_reactHelmet);\n\t\n\tvar _utils = __webpack_require__(56);\n\t\n\t__webpack_require__(274);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global graphql */\n\t\n\tvar PAGE_TITLE = 'Archives | Figure Figure';\n\t\n\tvar EventsPage = function (_React$Component) {\n\t  _inherits(EventsPage, _React$Component);\n\t\n\t  function EventsPage(props) {\n\t    _classCallCheck(this, EventsPage);\n\t\n\t    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t    var data = props.data.allDataJson.edges[0].node;\n\t    data.events.forEach(function (event) {\n\t      event.date = new Date(event.date);\n\t      event.ref = _react2.default.createRef();\n\t    });\n\t    _this.events = data.events.sort(function (a, b) {\n\t      return b.date - a.date;\n\t    });\n\t    _this.currentEvent = _this.events.length ? _this.events[_this.events.length - 1] : undefined;\n\t    return _this;\n\t  }\n\t\n\t  EventsPage.prototype.showEvent = function showEvent(event) {\n\t    this.scroll(event.ref);\n\t  };\n\t\n\t  EventsPage.prototype.scroll = function scroll(ref) {\n\t    ref.current.scrollIntoView({ behavior: 'smooth' });\n\t  };\n\t\n\t  EventsPage.prototype.getImage = function getImage(event) {\n\t    var img = _react2.default.createElement('img', { className: 'event-img', src: (0, _gatsbyLink.withPrefix)(event.img), alt: event.title });\n\t    return event.pdf ? _react2.default.createElement(\n\t      'a',\n\t      { href: (0, _gatsbyLink.withPrefix)(event.pdf), target: '_blank' },\n\t      img\n\t    ) : img;\n\t  };\n\t\n\t  EventsPage.prototype.getItem = function getItem(event, i) {\n\t    return _react2.default.createElement(\n\t      'li',\n\t      { key: 'event item ' + i, onMouseEnter: this.showEvent.bind(this, event) },\n\t      _react2.default.createElement(\n\t        'span',\n\t        { className: 'event-descr' },\n\t        _react2.default.createElement(\n\t          'span',\n\t          { className: 'event-date' },\n\t          (0, _utils.showDayDate)(event.date)\n\t        ),\n\t        _react2.default.createElement(\n\t          'span',\n\t          { className: 'event-title' },\n\t          event.title.toUpperCase(),\n\t          _react2.default.createElement('br', null),\n\t          event.subtitle,\n\t          _react2.default.createElement('br', null),\n\t          event.pdf ? _react2.default.createElement(\n\t            'a',\n\t            { href: (0, _gatsbyLink.withPrefix)(event.pdf) },\n\t            '\\u2014 T\\xE9l\\xE9charger le communiqu\\xE9 de presse'\n\t          ) : ''\n\t        )\n\t      )\n\t    );\n\t  };\n\t\n\t  EventsPage.prototype.render = function render() {\n\t    var _this2 = this;\n\t\n\t    return _react2.default.createElement(\n\t      'main',\n\t      { className: 'row no-gutters' },\n\t      _react2.default.createElement(_reactHelmet2.default, { title: PAGE_TITLE }),\n\t      _react2.default.createElement(\n\t        'div',\n\t        { ref: this.imgList, className: 'col-md-6 vh-site event-img-grid' },\n\t        this.events.map(function (event, i) {\n\t          return _react2.default.createElement(\n\t            'div',\n\t            { ref: event.ref, key: 'event img ' + i },\n\t            _this2.getImage(event)\n\t          );\n\t        })\n\t      ),\n\t      _react2.default.createElement(\n\t        'div',\n\t        { className: 'col-md-6 vh-site event-grid' },\n\t        _react2.default.createElement(\n\t          'ul',\n\t          null,\n\t          this.events.map(function (event, i) {\n\t            return _this2.getItem(event, i);\n\t          })\n\t        )\n\t      )\n\t    );\n\t  };\n\t\n\t  return EventsPage;\n\t}(_react2.default.Component);\n\t\n\texports.default = EventsPage;\n\tvar pageQuery = exports.pageQuery = '** extracted graphql fragment **';\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// component---src-pages-events-jsx-656ebf60961202839e2d.js","const monthNames = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'];\n\nexport default {\n  showMonthDate: d => `${monthNames[d.getUTCMonth()]} ${d.getFullYear()}`,\n  showDayDate: d => `${d.getDate()} ${monthNames[d.getUTCMonth()]} ${d.getFullYear()}`,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/utils.js","/* global graphql */\n\nimport React from 'react';\nimport { withPrefix } from 'gatsby-link';\nimport Helmet from 'react-helmet';\nimport { showDayDate } from '../components/utils';\nimport './event.scss';\n\nconst PAGE_TITLE = 'Archives | Figure Figure';\n\nclass EventsPage extends React.Component {\n  constructor(props) {\n    super(props);\n    const data = props.data.allDataJson.edges[0].node;\n    data.events.forEach((event) => {\n      event.date = new Date(event.date);\n      event.ref = React.createRef();\n    });\n    this.events = data.events.sort((a, b) => b.date - a.date);\n    this.currentEvent = this.events.length ? this.events[this.events.length - 1] : undefined;\n  }\n\n  showEvent(event) {\n    this.scroll(event.ref);\n  }\n\n  scroll(ref) {\n    ref.current.scrollIntoView({ behavior: 'smooth' });\n  }\n\n  getImage(event) {\n    const img = <img className=\"event-img\" src={withPrefix(event.img)} alt={event.title} />;\n    return event.pdf ? <a href={withPrefix(event.pdf)} target=\"_blank\">{img}</a> : img;\n  }\n\n  getItem(event, i) {\n    return (\n      <li key={`event item ${i}`} onMouseEnter={this.showEvent.bind(this, event)}>\n        <span className=\"event-descr\">\n          <span className=\"event-date\">{showDayDate(event.date)}</span>\n          <span className=\"event-title\">\n            {event.title.toUpperCase()}\n            <br />\n            {event.subtitle}\n            <br />\n            {event.pdf ? <a href={withPrefix(event.pdf)}>— Télécharger le communiqué de presse</a> : ''}\n          </span>\n        </span>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <main className=\"row no-gutters\">\n        <Helmet title={PAGE_TITLE} />\n        <div ref={this.imgList} className=\"col-md-6 vh-site event-img-grid\">\n          {this.events.map((event, i) => (\n            <div ref={event.ref} key={`event img ${i}`}>\n              {this.getImage(event)}\n            </div>\n          ))}\n        </div>\n        <div className=\"col-md-6 vh-site event-grid\">\n          <ul>\n            {this.events.map((event, i) => this.getItem(event, i))}\n          </ul>\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default EventsPage;\n\nexport const pageQuery = graphql`\n  query EventQuery {\n    allDataJson {\n      edges {\n        node {\n          events {\n            title\n            subtitle\n            date\n            img\n            pdf\n          }\n        }\n      }\n    }\n  }\n`;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/events.jsx"],"sourceRoot":""}